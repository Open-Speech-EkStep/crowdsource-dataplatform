!function e(t,r,n){function a(l,c){if(!r[l]){if(!t[l]){var i="function"==typeof require&&require;if(!c&&i)return i(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+l+"'")}var d=r[l]={exports:{}};t[l][0].call(d.exports,function(e){var r=t[l][1][e];return a(r||e)},d,d.exports,e,t,r,n)}return r[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=$("#chart-row"),c=l.find(".loader"),i=l.find(".chart"),d=l.find('[data-toggle="popover"]'),s=$("body");function u(e){fetch("/getAllInfo/".concat(e)).then(function(e){if(e.ok)return e.json();throw Error(e.statusText||"HTTP error")}).then(function(e){try{c.hide().removeClass("d-flex"),i.removeClass("d-none");var t=e.ageGroups.map(function(e){return e.ageGroup?e:{ageGroup:"Anonymous",count:e.count}}).sort(function(e,t){return Number(e.count)-Number(t.count)});g(t);var r=e.motherTongues.reduce(function(e,t){return e+Number(t.count)},0),n=e.motherTongues.map(function(e){return e.motherTongue?e:{motherTongue:"Anonymous",count:e.count}}).sort(function(e,t){return Number(t.count)-Number(e.count)});f(n.slice(0,4),r,"mother-tongue-chart",!0),f(n,r,"modal-chart");var o=e.genderData.map(function(e){return e.gender?a(a({},e),{},{gender:e.gender.charAt(0).toUpperCase()+e.gender.slice(1)}):{gender:"Anonymous",count:e.count}}),l=["1","2","3","4"],s={Female:0,Male:1,Others:2,Anonymous:3};o.forEach(function(e){var t=s[e.gender];l[t]=e}),h(l),m(d.eq(0),n,"motherTongue",!0),m(d.eq(1),t,"ageGroup",!0),m(d.eq(2),o,"gender"),innerWidth<992&&$("#modal-chart-wrapper").find(".modal-dialog").addClass("w-90"),setTimeout(function(){fetch("https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"),fetch("https://fonts.googleapis.com/icon?family=Material+Icons"),fetch("css/notyf.min.css"),fetch("css/record.css")},2e3)}catch(e){console.log(e),c.show().addClass("d-flex"),i.addClass("d-none")}}).catch(function(e){console.log(e)})}u("Odia"),$.fn.popover.Constructor.Default.whiteList.table=[],$.fn.popover.Constructor.Default.whiteList.tbody=[],$.fn.popover.Constructor.Default.whiteList.tr=[],$.fn.popover.Constructor.Default.whiteList.td=[];var m=function(e,t,r,n){var a;if(n){var o=t.length,l=Math.ceil(o/2),c=t.slice(0,l).map(function(e){return"<tr><td>".concat(e[r],"</td><td>").concat(e.count,"</td></tr>")}),i=t.slice(l,o).map(function(e){return"<tr><td>".concat(e[r],"</td><td>").concat(e.count,"</td></tr>")});a='<div class="row">\n            <div class="col-6"><table class="table table-sm table-borderless mb-0"><tbody>'.concat(c.join(""),'</tbody></table></div>\n            <div class="col-6"><table class="table table-sm table-borderless mb-0"><tbody>').concat(i.join(""),"</tbody></table></div>\n        </div>")}else{var d=t.map(function(e){return"<tr><td>".concat(e[r],"</td><td>").concat(e.count,"</td></tr>")});a='<div class="row"><div class="col"><table class="table table-sm table-borderless mb-0"><tbody>'.concat(d.join(""),"</tbody></table></div></div>")}e.on("mouseenter focus",function(){e.attr("data-content",a),e.popover("show"),s.children(".popover").on("mouseleave blur",function(){setTimeout(function(){s.children(".popover").find(":hover").length||e.is(":hover")||e.popover("hide")},300)})}).on("mouseleave blur",function(){setTimeout(function(){s.children(".popover").find(":hover").length||e.is(":hover")||e.popover("hide")},300)}),e.on("shown.bs.popover",function(){var e=s.children(".popover")[0];setTimeout(function(){var t=e.getBoundingClientRect();t.height+t.y>innerHeight&&e.scrollIntoView(!1)},0)})},p=["#3f80ff","#4D55A5","#735dc6","#68b7dc"],g=function(e){var t=am4core.create("age-group-chart",am4charts.PieChart3D);t.data=e.slice(0,3).concat({ageGroup:"Others",count:e.slice(3).reduce(function(e,t){return e+Number(t.count)},0)}),t.paddingBottom=50,t.innerRadius=am4core.percent(40),t.depth=50,t.legend=new am4charts.Legend,t.legend.labels.template.fill=am4core.color("#74798c"),t.legend.valueLabels.template.fill=am4core.color("#74798c"),t.legend.labels.template.textDecoration="none",t.legend.valueLabels.template.textDecoration="none",t.legend.itemContainers.template.paddingTop=5,t.legend.itemContainers.template.paddingBottom=5,t.legend.labels.template.states.getKey("active").properties.textDecoration="line-through",t.legend.valueLabels.template.states.getKey("active").properties.textDecoration="line-through",t.legend.valueLabels.template.align="right",t.legend.valueLabels.template.textAlign="start";var r=t.series.push(new am4charts.PieSeries3D);r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.calculatePercent=!0,r.slices.template.tooltipText="{category}: [bold]{value.percent.formatNumber('#.0')}% ({value.value})[/]",r.dataFields.value="count",r.dataFields.depthValue="count",r.dataFields.category="ageGroup",r.slices.template.adapter.add("fill",function(e,t){return p[t.dataItem.index]})},f=function(e,t,r,n){var a=am4core.create(r,am4charts.XYChart3D);a.data=e;var o=a.xAxes.push(new am4charts.CategoryAxis);o.dataFields.category="motherTongue",o.renderer.labels.template.rotation=270,o.renderer.labels.template.hideOversized=!1,o.renderer.minGridDistance=10,o.renderer.labels.template.horizontalCenter="right",o.renderer.labels.template.verticalCenter="middle",o.renderer.labels.template.fill="#74798c",o.renderer.grid.template.disabled=!0;var l=a.yAxes.push(new am4charts.ValueAxis);l.renderer.labels.template.fill="#74798c",l.renderer.grid.template.disabled=!1,l.renderer.baseGrid.disabled=!0;var c=a.series.push(new am4charts.ColumnSeries3D);c.dataFields.valueY="count",c.dataFields.categoryX="motherTongue",c.calculatePercent=!0;var i=c.columns.template;i.tooltipText="{categoryX} : [bold]@@@% ({valueY.value})[/]",c.tooltip.label.adapter.add("text",function(e,r){return r.dataItem&&e?e.replace("@@@",(100*r.dataItem.valueY/t).toFixed(1)):""}),i.adapter.add("fill",function(e,t){return n?p[t.dataItem.index]:a.colors.getIndex(t.dataItem.index)})},h=function(e){am4core.ready(function(){var t=am4core.create("gender-chart",am4charts.XYChart3D);t.paddingBottom=30,t.paddingTop=5,t.data=e;var r=t.xAxes.push(new am4charts.CategoryAxis);r.dataFields.category="gender",r.renderer.minGridDistance=20,r.renderer.inside=!1,r.renderer.labels.template.fill="#74798c",r.renderer.grid.template.disabled=!0;var n=r.renderer.labels.template;n.rotation=-90,n.horizontalCenter="left",n.verticalCenter="middle",n.dy=10,n.inside=!1;var a=t.yAxes.push(new am4charts.ValueAxis);a.renderer.grid.template.disabled=!1,a.renderer.labels.template.fill="#74798c",a.renderer.baseGrid.disabled=!0;var o=t.series.push(new am4charts.ConeSeries);o.calculatePercent=!0,o.dataFields.valueY="count",o.dataFields.categoryX="gender",o.columns.template.tooltipText="{categoryX} : [bold]{valueY.percent.formatNumber('#.0')}% ({valueY.value})[/]";var l=o.columns.template;l.adapter.add("fill",function(e,t){return p[p.length-1-t.dataItem.index]}),l.adapter.add("stroke",function(e,t){return p[p.length-1-t.dataItem.index]})})};t.exports={updateGraph:function(e){am4core.disposeAllCharts(),c.show().addClass("d-flex"),i.addClass("d-none"),u(e)}}},{}],2:[function(e,t,r){"use strict";var n=e("./draw-chart").updateGraph;$(document).ready(function(){var e=$("#proceed-box"),t=e.parent(),r=document.querySelectorAll('input[name = "gender"]'),c=document.getElementById("age"),s=document.getElementById("mother-tongue"),u=$("#username"),m=u.next(),p=$("#tnc"),g="Odia",f=function(e){a(e)?t.attr("data-original-title","Please validate any error message before proceeding"):t.attr("data-original-title","Please agree to the Terms and Conditions before proceeding")};o(u);var h=function(){var e=u.val().trim();a(e)?(u.addClass("is-invalid"),m.removeClass("d-none")):(u.removeClass("is-invalid"),m.addClass("d-none")),p.trigger("change"),o(u)};u.tooltip({container:"body",placement:screen.availWidth>500?"right":"auto",trigger:"focus"}),p.prop("checked",!1),t.tooltip({container:"body",placement:screen.availWidth>500?"right":"auto"});var v;!function(){var e=localStorage.getItem("speakerDetails");if(e){var t=JSON.parse(e),r=document.querySelector('input[name = "gender"][value="'+t.gender+'"]');r&&(r.checked=!0,r.previous=!0),c.value=t.age,s.value=t.motherTongue,u.val(t.userName?t.userName.trim().substring(0,12):""),h()}}(),r.forEach(function(e){e.addEventListener("click",function(e){e.target.previous&&(e.target.checked=!1),e.target.previous=e.target.checked})}),document.getElementById("languageTop").addEventListener("change",function(e){v=e.target.value,$("#start_recording").removeAttr("disabled")}),document.getElementById("start_recording").addEventListener("click",function(){g=v});var b="Odia";document.getElementById("language").addEventListener("change",function(e){d(b=e.target.value,i),l(b),n(b)}),document.getElementById("start-record").addEventListener("click",function(){g=b}),f(u.val().trim()),p.change(function(){var r=u.val().trim();this.checked&&!a(r)?(e.removeAttr("disabled").removeClass("point-none"),t.tooltip("disable")):(f(r),e.prop("disabled","true").addClass("point-none"),t.tooltip("enable"))}),u.on("input focus",h),e.on("click",function(){if(p.prop("checked")){var e=Array.from(r).filter(function(e){return e.checked}),t=e.length?e[0].value:"",n=u.val().trim().substring(0,12);if(a(n))return;var o={gender:t,age:c.value,motherTongue:s.value,userName:n,language:g};localStorage.setItem("speakerDetails",JSON.stringify(o)),location.href="/record"}}),$("#userModal").on("shown.bs.modal",function(){document.getElementById("resetBtn").addEventListener("click",function(){var e=document.querySelector('input[name = "gender"]:checked');e&&(e.checked=!1),c.selectedIndex=0,s.selectedIndex=0,u[0].value=""})}),l("Odia"),d("Odia",i)});var a=function(e){return/^[6-9]\d{9}$/.test(e)||/^\S+@\S+[\.][0-9a-z]+$/.test(e)};function o(e){e.val().length>11?(e.tooltip("enable"),e.tooltip("show")):(e.tooltip("disable"),e.tooltip("hide"))}function l(e){document.getElementById("start-record").innerText="START RECORDING IN ".concat(e.toUpperCase())}function c(e){var t=6*e,r=t%3600;return{hours:Math.floor(t/3600),minutes:Math.floor(r/60),seconds:r%60}}var i=function(e){return fetch("/getDetails/".concat(e)).then(function(e){if(e.ok)return Promise.resolve(e.json());throw Error(e.statusText||"HTTP error")})};function d(e,t){var r=$("#speaker-data").find("#loader1,#loader2"),n=$("#speakers-wrapper"),a=$("#speaker-value"),o=$("#hours-wrapper"),l=$("#hour-value");return r.removeClass("d-none"),o.addClass("d-none"),n.addClass("d-none"),t(e).then(function(e){try{var t=c(e.find(function(e){return 1===e.index}).count),i=t.hours,d=t.minutes,s=t.seconds;return l.text("".concat(i,"h ").concat(d,"m ").concat(s,"s")),a.text(e.find(function(e){return 0===e.index}).count),r.addClass("d-none"),o.removeClass("d-none"),n.removeClass("d-none"),localStorage.setItem("speakersData",JSON.stringify(e)),Promise.resolve(!0)}catch(e){return console.log(e),Promise.reject(e)}}).catch(function(e){return console.log(e),Promise.reject(e)})}t.exports={updateLanguageInButton:l,updateLanguage:d,calculateTime:c,testUserName:a}},{"./draw-chart":1}]},{},[2]);