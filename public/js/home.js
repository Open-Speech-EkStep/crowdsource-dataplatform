!function e(t,a,r){function o(n,i){if(!a[n]){if(!t[n]){var l="function"==typeof require&&require;if(!i&&l)return l(n,!0);if(s)return s(n,!0);throw new Error("Cannot find module '"+n+"'")}var d=a[n]={exports:{}};t[n][0].call(d.exports,function(e){var a=t[n][1][e];return o(a||e)},d,d.exports,e,t,a,r)}return a[n].exports}for(var s="function"==typeof require&&require,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,a){"use strict";var r=e("./home-page-charts"),o=r.generateIndiaMap,s=r.getStatistics,n=r.showByHoursChart,i=r.showBySpeakersChart,l=e("./utils").toggleFooterPosition,d=e("./speakerDetails"),c=d.validateUserName,u=d.testUserName,m=d.setSpeakerDetails,h=d.resetSpeakerDetails,g=d.setUserNameTooltip,v=d.setStartRecordBtnToolTipContent,p="aggregateDataCountByLanguage",f=[{value:"Assamese",id:"as",text:"অসমীয়া"},{value:"Bengali",id:"bn",text:"বাংলা"},{value:"English",id:"en",text:"English"},{value:"Gujarati",id:"gu",text:"ગુજરાતી"},{value:"Hindi",id:"hi",text:"हिन्दी"},{value:"Kannada",id:"kn",text:"ಕನ್ನಡ"},{value:"Malayalam",id:"ml",text:"മലയാളം"},{value:"Marathi",id:"mr",text:"मराठी"},{value:"Odia",id:"or",text:"ଘୃଣା"},{value:"Punjabi",id:"pa",text:"ਪੰਜਾਬੀ"},{value:"Tamil",id:"ta",text:"தமிழ்"},{value:"Telugu",id:"te",text:"తెలుగు"}],_=function(e){return fetch(e).then(function(e){if(e.ok)return Promise.resolve(e.json());throw Error(e.statusText||"HTTP error")})};function b(e){var t=$("#say-loader"),a=$("#listen-loader");t.removeClass("d-none"),a.removeClass("d-none");var r=$("#say-p-3"),o=$("#listen-p-3"),s=localStorage.getItem(p),n=JSON.parse(s);if(console.log(n,"aggregateDetails"),n){var i=n&&n.find(function(t){return t.language===e});if(i){var l=i.total_contributions,d=i.total_validations;l&&r.text("".concat(l," hrs recorded in ").concat(e)),d&&o.text("".concat(d," hrs validated in ").concat(e))}else r.text("0 hr recorded in ".concat(e)),o.text("0 hr validated in ".concat(e));t.addClass("d-none"),a.addClass("d-none")}else _("/aggregate-data-count?byLanguage=true").then(function(s){localStorage.setItem(p,JSON.stringify(s.data));var n=s.data.find(function(t){return t.language===e});if(n){var i=n.total_contributions,l=n.total_validations;i&&r.text("".concat(i," hrs recorded in ").concat(e)),l&&o.text("".concat(l," hrs validated in ").concat(e))}else r.text("0 hr recorded in ".concat(e)),o.text("0 hr validated in ".concat(e));t.addClass("d-none"),a.addClass("d-none")}).catch(function(e){console.log(e)})}var k=function(e,t,a){var r=0,o=a.children();return o.each(function(a,o){o.getAttribute(e)===t&&(r=a)}),o[r]},C=function(e,t,a){var r=a.children(),o=-1;r.each(function(e,a){a.getAttribute("value")===t&&(o=e)}),a.find(".active").removeClass("active");var s=document.getElementById("6th_option"),n=f.find(function(e){return e.value===t});s.innerText=n.text,o<0?(s.classList.remove("d-none"),s.classList.add("active"),s.setAttribute("value",t)):(r[o].classList.add("active"),s.classList.remove("active"),s.classList.add("d-none"))},x=function(){var e=localStorage.getItem("contributionLanguage"),t=$("#say-listen-language"),a=$("#language-nav-bar");if(!e){var r=document.getElementById("home-page").getAttribute("default-lang"),o=k("id",r,t),s=o.getAttribute("value");return localStorage.setItem("contributionLanguage",s),b(s),void C(0,s,a)}k("value",e,t);b(e),C(0,e,a)};$(document).ready(function(){localStorage.removeItem("topLanguagesByHours"),localStorage.removeItem("topLanguagesBySpeakers"),localStorage.removeItem("aggregatedDataByState"),localStorage.removeItem(p);var e=$("#proceed-box"),t=e.parent(),a=document.querySelectorAll('input[name = "gender"]'),r=document.getElementById("age"),d=document.getElementById("mother-tongue"),f=$("#username"),k=f.next(),y=$("#tnc"),S="Odia";y.prop("checked",!1),l(),t.tooltip({container:"body",placement:screen.availWidth>500?"right":"auto"}),function(){var e=$("#language-nav-bar"),t=$("#nav-bar-loader");[{value:"Hindi",id:"hi",text:"हिन्दी"},{value:"Marathi",id:"mr",text:"मराठी"},{value:"Bengali",id:"bn",text:"বাংলা"},{value:"Tamil",id:"ta",text:"தமிழ்"},{value:"Telugu",id:"te",text:"తెలుగు"}].forEach(function(t,a){e.append('<li class="nav-item mx-2 mx-lg-4 options" value='.concat(t.value,">").concat(t.text,"</li>"))}),t.addClass("d-none"),e.removeClass("d-none"),x()}();var I=localStorage.getItem("contributionLanguage"),N=$("#language-nav-bar");$("#say-listen-language").on("click",function(e){var t=e.target,a=t.getAttribute("value");I=a,localStorage.setItem("contributionLanguage",a),C(0,a,N),b(a)}),N.on("click",function(e){var t=e.target,a=t.getAttribute("value");I=a,localStorage.setItem("contributionLanguage",a);var r=$("#6th_option");(N.find(".active")||r).removeClass("active"),r.addClass("d-none"),t.classList.add("active"),b(a)}),_("/aggregate-data-count?byLanguage=true").then(function(e){localStorage.setItem(p,JSON.stringify(e.data))}).catch(function(e){console.log(e)}),$("#start_recording").on("click",function(){S=I}),$('[name="topLanguageChart"]').on("change",function(e){"hours"===e.target.value?n():i()}),m("speakerDetails",r,d,f),a.forEach(function(e){e.addEventListener("click",function(e){e.target.previous&&(e.target.checked=!1),e.target.previous=e.target.checked})}),v(f.val().trim(),t),y.change(function(){var a=f.val().trim();this.checked&&!u(a)?(e.removeAttr("disabled").removeClass("point-none"),t.tooltip("disable")):(v(a,t),e.prop("disabled","true").addClass("point-none"),t.tooltip("enable"))}),f.on("input focus",function(){c(f,k,y),g(f)}),e.on("click",function(){if(y.prop("checked")){var e=Array.from(a).filter(function(e){return e.checked}),t=e.length?e[0].value:"",o=f.val().trim().substring(0,12);if("English"===S&&(S="Odia"),u(o))return;var s={gender:t,age:r.value,motherTongue:d.value,userName:o,language:S};localStorage.setItem("speakerDetails",JSON.stringify(s)),location.href="/record"}}),$("#userModal").on("shown.bs.modal",function(){$("#resetBtn").on("click",h),f.tooltip({container:"body",placement:screen.availWidth>500?"right":"auto",trigger:"focus"}),g(f)});var L=$("#say"),T=$("#listen"),B=$("#listen-p-2"),E=$("#say-p-2"),w=$("#say_container"),A=$("#listen_container");L.hover(function(){L.removeClass("col-lg-5"),T.removeClass("col-lg-5"),L.addClass("col-lg-6"),T.addClass("col-lg-4"),L.removeClass("col-md-5"),T.removeClass("col-md-5"),L.addClass("col-md-6"),T.addClass("col-md-4"),E.removeClass("d-none"),w.addClass("say-active")},function(){L.removeClass("col-lg-6"),T.removeClass("col-lg-4"),L.addClass("col-lg-5"),T.addClass("col-lg-5"),L.removeClass("col-md-6"),T.removeClass("col-md-4"),L.addClass("col-md-5"),T.addClass("col-md-5"),E.addClass("d-none"),w.removeClass("say-active")}),T.hover(function(){L.removeClass("col-lg-5"),T.removeClass("col-lg-5"),T.addClass("col-lg-6"),L.addClass("col-lg-4"),B.removeClass("d-none"),A.addClass("listen-active")},function(){L.removeClass("col-lg-4"),T.removeClass("col-lg-6"),L.addClass("col-lg-5"),T.addClass("col-lg-5"),B.addClass("d-none"),A.removeClass("listen-active")}),s(),o(),n()}),t.exports={performAPIRequest:_,updateHrsForSayAndListen:b,getDefaultTargettedDiv:k}},{"./home-page-charts":2,"./speakerDetails":3,"./utils":4}],2:[function(e,t,a){"use strict";var r="topLanguagesByHours",o="topLanguagesBySpeakers",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="";return e>0&&(r+="".concat(e," hrs ")),t>0&&(r+="".concat(t," min ")),0===e&&0===t&&a>0&&(r+="".concat(a," sec ")),r.substr(0,r.length-1)},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Math.floor(e/3600),r=e%3600,o=Math.floor(r/60),s=Math.round(r%60);return t?{hours:a,minutes:o,seconds:s}:{hours:a,minutes:o}},i=function(e){return fetch(e).then(function(e){if(e.ok)return Promise.resolve(e.json());throw Error(e.statusText||"HTTP error")})},l=[{state:"Telangana",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Andaman and Nicobar Islands",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Andhra Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Arunanchal Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Assam",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Bihar",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Chhattisgarh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Daman & Diu",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Goa",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Gujarat",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Haryana",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Himachal Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Jammu & Kashmir",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Jharkhand",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Karnataka",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Kerala",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Lakshadweep",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Madhya Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Maharashtra",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Manipur",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Chandigarh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Puducherry",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Punjab",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Rajasthan",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Sikkim",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Tamil Nadu",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Tripura",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Uttar Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Uttarakhand",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"West Bengal",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Odisha",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Dadara & Nagar Havelli",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Meghalaya",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Mizoram",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"Nagaland",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{state:"National Capital Territory of Delhi",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0}];function d(e,t,a){var r=am4core.create("speakers_hours_chart",am4charts.XYChart);c.chart=r,"total_speakers"!==t&&e.forEach(function(e){var t=n(60*Number(e.total_contributions)*60,!0),a=t.hours,r=t.minutes,o=t.seconds;e.total_contributions_text=s(a,r,o)}),r.data=e;var o=r.yAxes.push(new am4charts.CategoryAxis);o.dataFields.category=a,o.renderer.grid.template.location=0,o.renderer.cellStartLocation=.2,o.renderer.cellEndLocation=.8,o.renderer.grid.template.strokeWidth=0;var i=r.xAxes.push(new am4charts.ValueAxis);i.renderer.grid.template.strokeWidth=0,i.renderer.labels.template.disabled=!0,o.renderer.minGridDistance=25;var l=r.series.push(new am4charts.ColumnSeries);l.dataFields.valueX=t,l.dataFields.categoryY=a;var d=l.bullets.push(new am4charts.LabelBullet);d.label.text="total_speakers"===t?"{total_speakers}":"{total_contributions_text}",d.label.fontSize=14,d.label.horizontalCenter="right",d.label.dx=0;r.events.on("datavalidated",function(e){var t=e.target,a=t.yAxes.getIndex(0),r=35*t.data.length-a.pixelHeight,o=t.pixelHeight+r;t.svgContainer.htmlElement.style.height=o+"px"})}var c={};t.exports={generateIndiaMap:function(){i("/aggregate-data-count?byState=true").then(function(e){!function(e){var t,a=$("#legendDiv"),r=Math.max.apply(Math,e.data.map(function(e){return Number(e.total_contributions)}));t=r>1?r/4:.25,l.forEach(function(t){var a=e.data.find(function(e){return t.state===e.state});if(a){var r=n(60*Number(a.total_contributions)*60,!0),o=r.hours,s=r.minutes,i=r.seconds,l=n(60*Number(a.total_validations)*60,!0),d=l.hours,c=l.minutes,u=l.seconds;t.contributed_time="".concat(o,"hrs ").concat(s,"mins ").concat(i,"sec"),t.validated_time="".concat(d,"hrs ").concat(c,"mins ").concat(u,"sec"),t.value=Number(a.total_contributions),t.id=t.state}else t.id=t.state});var o=am4core.create("indiaMapChart",am4maps.MapChart);o.geodataSource.url="./js/states_india_geo.json",o.projection=new am4maps.projections.Miller;var i=new am4maps.MapPolygonSeries;o.seriesContainer.draggable=!1,o.seriesContainer.resizable=!1,o.maxZoomLevel=1,i.useGeodata=!0,i.data=l;var d=i.mapPolygons.template;d.tooltipHTML='<div><h6>{state}</h6> <div>{total_speakers} Speakers  <label style="margin-left: 32px">Contributed: <label style="margin-left: 8px">{contributed_time}</label></label></div> <div>Validated:  <label style="margin-left: 8px">{validated_time}</label></div></div>',d.nonScalingStroke=!0,d.strokeWidth=.5,d.fill=am4core.color("#fff"),d.states.create("hover").properties.fill=o.colors.getIndex(1).brighten(-.5),i.mapPolygons.template.adapter.add("fill",function(e,a){return a.dataItem?a.dataItem.value>=3*t?am4core.color("#4061BF"):a.dataItem.value>=2*t?am4core.color("#6B85CE"):a.dataItem.value>=t?am4core.color("#92A8E8"):a.dataItem.value>=0?am4core.color("#CDD8F6"):am4core.color("#E9E9E9"):e}),o.series.push(i);var c=$("#quarter .legend-val"),u=$("#half .legend-val"),m=$("#threeQuarter .legend-val"),h=$("#full .legend-val"),g=n(60*t*60,!1),v=g.hours,p=g.minutes,f=n(2*t*60*60,!1),_=f.hours,b=f.minutes,k=n(3*t*60*60,!1),C=k.hours,x=k.minutes;c.text("0 - ".concat(s(v,p))),u.text("".concat(s(v,p)," - ").concat(s(_,b))),m.text("".concat(s(_,b)," - ").concat(s(C,x))),h.text("> ".concat(s(C,x))),a.removeClass("d-none").addClass("d-flex")}(e)}).catch(function(e){console.log(e)})},showByHoursChart:function(){c.chart&&c.chart.dispose();var e=localStorage.getItem(r);e?d(JSON.parse(e).data,"total_contributions","language"):i("/top-languages-by-hours").then(function(e){localStorage.setItem(r,JSON.stringify(e)),d(e.data,"total_contributions","language")})},showBySpeakersChart:function(){c.chart&&c.chart.dispose();var e=localStorage.getItem(o);e?d(JSON.parse(e).data,"total_speakers","language"):i("/top-languages-by-speakers").then(function(e){localStorage.setItem(o,JSON.stringify(e)),d(e.data,"total_speakers","language")})},getStatistics:function(){var e=$("#speaker-data").find("#loader1, #loader2, #loader3"),t=$("#speakers-wrapper"),a=$("#speaker-value"),r=$("#hours-wrapper"),o=$("#hour-value"),s=$("#languages-wrapper"),l=$("#languages-value");e.removeClass("d-none"),r.addClass("d-none"),t.addClass("d-none"),s.addClass("d-none"),i("/aggregate-data-count").then(function(i){try{var d=n(60*Number(i.data[0].total_contributions)*60),c=d.hours,u=d.minutes,m=d.seconds;o.text("".concat(c,"h ").concat(u,"m ").concat(m,"s")),a.text(i.data[0].total_speakers),l.text(i.data[0].total_languages),e.addClass("d-none"),r.removeClass("d-none"),t.removeClass("d-none"),s.removeClass("d-none")}catch(e){console.log(e)}}).catch(function(e){console.log(e)})},calculateTime:n,formatTime:s}},{}],3:[function(e,t,a){"use strict";function r(e,t,a){var r=e.val().trim();o(r)?(e.addClass("is-invalid"),t.removeClass("d-none")):(e.removeClass("is-invalid"),t.addClass("d-none")),a.trigger("change")}var o=function(e){return/^[6-9]\d{9}$/.test(e)||/^\S+@\S+[\.][0-9a-z]+$/.test(e)};t.exports={testUserName:o,validateUserName:r,setSpeakerDetails:function(e,t,a,o){var s=localStorage.getItem(e);if(s){var n=JSON.parse(s),i=document.querySelector('input[name = "gender"][value="'+n.gender+'"]');i&&(i.checked=!0,i.previous=!0),t.value=n.age,a.value=n.motherTongue,o.val(n.userName?n.userName.trim().substring(0,12):""),r(o,o.next(),$("#tnc"))}},resetSpeakerDetails:function(){var e=document.getElementById("age"),t=document.getElementById("mother-tongue"),a=document.getElementById("username"),r=document.querySelector('input[name = "gender"]:checked');r&&(r.checked=!1),e.selectedIndex=0,t.selectedIndex=0,a.value=""},setUserNameTooltip:function(e){e.val().length>11?(e.tooltip("enable"),e.tooltip("show")):(e.tooltip("disable"),e.tooltip("hide"))},setStartRecordBtnToolTipContent:function(e,t){o(e)?t.attr("data-original-title","Please validate any error message before proceeding"):t.attr("data-original-title","Please agree to the Terms and Conditions before proceeding")}}},{}],4:[function(e,t,a){"use strict";t.exports={setPageContentHeight:function(){var e=$("footer"),t=$(".navbar"),a=100-(e.outerHeight()+t.outerHeight())*(100/document.documentElement.clientHeight);$("#content-wrapper").css("min-height",a+"vh")},toggleFooterPosition:function(){var e=$("footer");e.toggleClass("fixed-bottom"),e.toggleClass("bottom")},fetchLocationInfo:function(){return fetch("https://www.cloudflare.com/cdn-cgi/trace").then(function(e){return e.text()}).then(function(e){var t=e.split("\n"),a="";for(var r in t)if(t[r].startsWith("ip=")){a=t[r].replace("ip=","");break}return 0!==a.length?fetch("/location-info?ip=".concat(a)):new Promise(function(e,t){t("Ip Address not available")})})}}},{}]},{},[1]);