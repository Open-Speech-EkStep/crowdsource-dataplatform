!function e(t,a,r){function o(s,l){if(!a[s]){if(!t[s]){var i="function"==typeof require&&require;if(!l&&i)return i(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=a[s]={exports:{}};t[s][0].call(c.exports,function(e){var a=t[s][1][e];return o(a||e)},c,c.exports,e,t,a,r)}return a[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,a){"use strict";var r="topLanguagesByHours",o="topLanguagesBySpeakers",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="";return e>0&&(r+="".concat(e," hrs ")),t>0&&(r+="".concat(t," min ")),a>0&&(r+="".concat(a," sec ")),r.substr(0,r.length-1)},s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Math.floor(e/3600),r=e%3600,o=Math.floor(r/60),n=Math.round(r%60);return t?{hours:a,minutes:o,seconds:n}:{hours:a,minutes:o}},l=function(e){return fetch(e).then(function(e){if(e.ok)return Promise.resolve(e.json());throw Error(e.statusText||"HTTP error")})};function i(e,t,a){var r=am4core.create("speakers_hours_chart",am4charts.XYChart);c.chart=r,"total_speakers"!==t&&e.forEach(function(e){var t=s(60*Number(e.total_contributions)*60,!0),a=t.hours,r=t.minutes,o=t.seconds;e.total_contributions_text=n(a,r,o)}),r.data=e;var o=r.yAxes.push(new am4charts.CategoryAxis);o.dataFields.category=a,o.renderer.grid.template.location=0,o.renderer.cellStartLocation=.2,o.renderer.cellEndLocation=.8,o.renderer.grid.template.strokeWidth=0,o.renderer.labels.template.truncate=!1;var l=r.xAxes.push(new am4charts.ValueAxis);l.renderer.grid.template.strokeWidth=0,l.labelsEnabled=!1,l.renderer.labels.template.truncate=!1,o.renderer.minGridDistance=25;var i=r.series.push(new am4charts.ColumnSeries);i.dataFields.valueX=t,i.dataFields.categoryY=a;var u=i.bullets.push(new am4charts.LabelBullet);u.label.text="total_speakers"===t?"{total_speakers}":"{total_contributions_text}",u.label.fontSize=20,u.label.horizontalCenter="right",u.label.dx=0;r.events.on("datavalidated",function(e){var t=e.target,a=t.yAxes.getIndex(0),r=35*t.data.length-a.pixelHeight,o=t.pixelHeight+r;t.svgContainer.htmlElement.style.height=o+"px"})}var c={};t.exports={generateIndiaMap:function(){l("/aggregate-data-count?byState=true").then(function(e){!function(e){var t,a=$("#legendDiv"),r=Math.max.apply(Math,e.data.map(function(e){return Number(e.total_contributions)}));t=r>1?r/4:.25,e.data.forEach(function(e){var t=s(60*Number(e.total_contributions)*60,!0),a=t.hours,r=t.minutes,o=t.seconds,n=s(60*Number(e.total_validations)*60,!0),l=n.hours,i=n.minutes,c=n.seconds;e.contributed_time="".concat(a,"hrs ").concat(r,"mins ").concat(o,"sec"),e.validated_time="".concat(l,"hrs ").concat(i,"mins ").concat(c,"sec"),e.value=Number(e.total_contributions),e.id=e.state});var o=am4core.create("indiaMapChart",am4maps.MapChart);o.geodataSource.url="./js/states_india_geo.json",o.projection=new am4maps.projections.Miller;var l=new am4maps.MapPolygonSeries;o.seriesContainer.draggable=!1,o.seriesContainer.resizable=!1,o.maxZoomLevel=1,l.useGeodata=!0,l.data=e.data;var i=l.mapPolygons.template;i.tooltipHTML='<div><h6>{state}</h6> <div>{total_speakers} Speakers  <label style="margin-left: 32px">{contributed_time}</label></div> <div>Validated:  <label style="margin-left: 16px">{validated_time}</label></div></div>',i.nonScalingStroke=!0,i.strokeWidth=.5,i.fill=am4core.color("#fff"),i.states.create("hover").properties.fill=o.colors.getIndex(1).brighten(-.5),l.mapPolygons.template.adapter.add("fill",function(e,a){return a.dataItem?(console.log("target: ",a.dataItem.value),a.dataItem.value>=3*t?am4core.color("#4061BF"):a.dataItem.value>=2*t?am4core.color("#6B85CE"):a.dataItem.value>=t?am4core.color("#92A8E8"):a.dataItem.value>=0?am4core.color("#CDD8F6"):am4core.color("#E9E9E9")):e}),o.series.push(l);var c=$("#quarter .legend-val"),u=$("#half .legend-val"),d=$("#threeQuarter .legend-val"),m=$("#full .legend-val"),h=s(60*t*60,!1),g=h.hours,p=h.minutes,v=s(2*t*60*60,!1),f=v.hours,b=v.minutes,x=s(3*t*60*60,!1),_=x.hours,y=x.minutes;c.text("0 - ".concat(n(g,p))),u.text("".concat(n(g,p)," - ").concat(n(f,b))),d.text("".concat(n(f,b)," - ").concat(n(_,y))),m.text("> ".concat(n(_,y))),a.removeClass("d-none").addClass("d-flex")}(e)}).catch(function(e){console.log(e)})},showByHoursChart:function(){c.chart&&c.chart.dispose();var e=localStorage.getItem(r);e?i(JSON.parse(e).data,"total_contributions","language"):l("/top-languages-by-hours").then(function(e){localStorage.setItem(r,JSON.stringify(e)),i(e.data,"total_contributions","language")})},showBySpeakersChart:function(){c.chart&&c.chart.dispose();var e=localStorage.getItem(o);e?i(JSON.parse(e).data,"total_speakers","language"):l("/top-languages-by-speakers").then(function(e){localStorage.setItem(o,JSON.stringify(e)),i(e.data,"total_speakers","language")})},getStatistics:function(){var e=$("#speaker-data").find("#loader1, #loader2, #loader3"),t=$("#speakers-wrapper"),a=$("#speaker-value"),r=$("#hours-wrapper"),o=$("#hour-value"),n=$("#languages-wrapper"),i=$("#languages-value");e.removeClass("d-none"),r.addClass("d-none"),t.addClass("d-none"),n.addClass("d-none"),l("/aggregate-data-count").then(function(l){try{var c=s(60*Number(l.data[0].total_contributions)*60),u=c.hours,d=c.minutes,m=c.seconds;o.text("".concat(u,"h ").concat(d,"m ").concat(m,"s")),a.text(l.data[0].total_speakers),i.text(l.data[0].total_languages),e.addClass("d-none"),r.removeClass("d-none"),t.removeClass("d-none"),n.removeClass("d-none")}catch(e){console.log(e)}}).catch(function(e){console.log(e)})},calculateTime:s,formatTime:n}},{}]},{},[1]);