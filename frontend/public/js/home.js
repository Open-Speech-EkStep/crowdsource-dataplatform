!function e(t,a,n){function r(i,s){if(!a[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=a[i]={exports:{}};t[i][0].call(c.exports,function(e){var a=t[i][1][e];return r(a||e)},c,c.exports,e,t,a,n)}return a[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t,a){"use strict";t.exports={DEFAULT_CON_LANGUAGE:"Hindi",AUDIO_DURATION:6,SIXTY:60,HOUR_IN_SECONDS:3600,ALL_LANGUAGES:[{value:"Assamese",id:"as",text:"অসমীয়া",hasLocaleText:!0,data:!0},{value:"Bengali",id:"bn",text:"বাংলা",hasLocaleText:!0,data:!0},{value:"English",id:"en",text:"English",hasLocaleText:!0,data:!0},{value:"Gujarati",id:"gu",text:"ગુજરાતી",hasLocaleText:!0,data:!0},{value:"Hindi",id:"hi",text:"हिंदी",hasLocaleText:!0,data:!0},{value:"Kannada",id:"kn",text:"ಕನ್ನಡ",hasLocaleText:!0,data:!0},{value:"Malayalam",id:"ml",text:"മലയാളം",hasLocaleText:!0,data:!0},{value:"Marathi",id:"mr",text:"मराठी",hasLocaleText:!0,data:!0},{value:"Odia",id:"or",text:"ଓଡିଆ",hasLocaleText:!0,data:!0},{value:"Punjabi",id:"pa",text:"ਪੰਜਾਬੀ",hasLocaleText:!0,data:!0},{value:"Tamil",id:"ta",text:"தமிழ்",hasLocaleText:!0,data:!0},{value:"Telugu",id:"te",text:"తెలుగు",hasLocaleText:!0,data:!0}],TOP_LANGUAGES_BY_HOURS:"topLanguagesByHours",TOP_LANGUAGES_BY_SPEAKERS:"topLanguagesBySpeakers",AGGREGATED_DATA_BY_LANGUAGE:"aggregateDataCountByLanguage",LOCALE_STRINGS:"localeString",CONTRIBUTION_LANGUAGE:"contributionLanguage",BADGES:{bronze:{imgLg:"../img/bronze_badge.svg",imgSm:"../img/bronze_contributor.jpeg"},silver:{imgLg:"../img/silver_badge.svg",imgSm:"../img/silver_contributor.jpeg"},gold:{imgLg:"../img/gold_badge.svg",imgSm:"../img/gold_contributor.jpeg"},platinum:{imgLg:"../img/platinum_badge.svg",imgSm:"../img/platinum_contributor.jpeg"},certificate:{imgLg:"../img/certificate.svg",imgSm:"../img/certificate.svg"}},SPEAKER_DETAILS_KEY:"speakerDetails"}},{}],2:[function(e,t,a){"use strict";t.exports={api_url:"http://localhost:8080"}},{}],3:[function(e,t,a){"use strict";var n=e("./locale"),r=n.showLanguagePopup,o=n.redirectToLocalisedPage,i=e("./home-page-charts"),s=i.drawMap,l=i.getStatistics,c=i.showByHoursChart,d=i.showBySpeakersChart,u=e("./utils"),m=u.toggleFooterPosition,g=u.updateLocaleLanguagesDropdown,h=u.getLocaleString,v=u.performAPIRequest,p=e("./speakerDetails"),f=p.setSpeakerDetails,_=p.setUserModalOnShown,b=p.setUserNameOnInputFocus,S=p.setGenderRadioButtonOnClick,I=p.setStartRecordingBtnOnClick,k=e("./constants"),N=k.DEFAULT_CON_LANGUAGE,C=k.TOP_LANGUAGES_BY_HOURS,y=k.TOP_LANGUAGES_BY_SPEAKERS,A=k.AGGREGATED_DATA_BY_LANGUAGE,L=k.CONTRIBUTION_LANGUAGE,x=k.LOCALE_STRINGS,T=k.ALL_LANGUAGES,E=function(e,t,a){var n=$("#say-p-3"),r=$("#listen-p-3"),o=JSON.parse(localStorage.getItem(x)),i=o["hrs recorded in"];i=(i=i.replace("%hours",e)).replace("%language",a),n.text(i);var s=o["hrs validated in"];s=(s=s.replace("%hours",t)).replace("%language",a),r.text(s)};function w(e){var t=$("#say-loader"),a=$("#listen-loader");t.removeClass("d-none"),a.removeClass("d-none");var n=JSON.parse(localStorage.getItem(A)),r=n&&n.find(function(t){return t.language===e});r?E(r.total_contributions,r.total_validations,e):E(0,0,e),t.addClass("d-none"),a.addClass("d-none"),g(e)}var O=function(e,t,a){var n=0,r=a.children();return r.each(function(e,t){t.getAttribute("value")===N&&(n=e)}),r.each(function(a,r){r.getAttribute(e)===t&&(n=a)}),r[n]},G=function(e,t,a){var n=a.children(),r=-1;n.each(function(e,a){a.getAttribute("value")===t&&(r=e)}),a.find(".active").removeClass("active");var o=document.getElementById("6th_option"),i=T.find(function(e){return e.value===t});o.innerText=i.text,r<0?(o.classList.remove("d-none"),o.classList.add("active"),o.setAttribute("value",t)):(n[r].classList.add("active"),o.classList.remove("active"),o.classList.add("d-none"))},B=function(){var e=localStorage.getItem(L),t=$("#say-listen-language");if(!e){var a=document.getElementById("home-page").getAttribute("default-lang"),n=O("id",a,t).getAttribute("value");return localStorage.setItem(L,n),n}return e},P=function(){v("/stats/summary").then(function(e){s({data:e.aggregate_data_by_state}),localStorage.setItem(C,JSON.stringify(e.top_languages_by_hours)),c(),localStorage.setItem(y,JSON.stringify(e.top_languages_by_speakers)),localStorage.setItem(A,JSON.stringify(e.aggregate_data_by_language)),l(e.aggregate_data_count[0]),function(){var e=localStorage.getItem(L),t=$("#say-listen-language"),a=$("#language-nav-bar");if($("#nav-bar-loader").addClass("d-none"),a.removeClass("d-none"),!e){var n=document.getElementById("home-page").getAttribute("default-lang"),r=O("id",n,t),o=r.getAttribute("value");return localStorage.setItem(L,o),w(o),void G(r,o,a)}var i=O("value",e,t);w(e),G(i,e,a)}(),0===e.top_languages_by_hours.length?($("#bar_charts_container").hide(),$("#view_all_btn").hide()):($("#bar_charts_container").show(),$("#view_all_btn").show())})},U=function(){var e=$("#say"),t=$("#listen"),a=e.outerWidth(!0)+t.outerWidth(!0);e.css("background-size","".concat(a,"px auto")),t.css("background-size","".concat(a,"px auto"))};function D(){var e=document.getElementById("age"),t=document.getElementById("mother-tongue"),a=$("#username");m(),U();var n=B(),r=$("#language-nav-bar");$("#say-listen-language").on("click",function(e){var t=e.target,a=t.getAttribute("value");n!==a&&(n=a,localStorage.setItem(L,a),localStorage.setItem("i18n","en"),window.location.href="/",G(t,a,r),w(a))}),r.on("click",function(e){var t=e.target,a=t.getAttribute("value");if(n!==a){localStorage.setItem(L,a),n=a;var o=$("#6th_option");(r.find(".active")||o).removeClass("active"),o.addClass("d-none"),t.classList.add("active"),w(a),localStorage.setItem("i18n","en"),window.location.href="/"}}),$("#start_recording").on("click",function(){n,localStorage.setItem(L,n)}),$('[name="topLanguageChart"]').on("change",function(e){"hours"===e.target.value?c():d()}),f("speakerDetails",e,t,a),S(),b(),I(),_(a);var o=$("#say"),i=$("#listen"),s=$("#listen-p-2"),l=$("#say-p-2"),u=$("#say_container"),g=$("#listen_container");o.hover(function(){o.removeClass("col-lg-5"),i.removeClass("col-lg-5"),o.addClass("col-lg-6"),i.addClass("col-lg-4"),o.removeClass("col-md-5"),i.removeClass("col-md-5"),o.addClass("col-md-6"),i.addClass("col-md-4"),l.removeClass("d-none"),u.addClass("say-active")},function(){o.removeClass("col-lg-6"),i.removeClass("col-lg-4"),o.addClass("col-lg-5"),i.addClass("col-lg-5"),o.removeClass("col-md-6"),i.removeClass("col-md-4"),o.addClass("col-md-5"),i.addClass("col-md-5"),l.addClass("d-none"),u.removeClass("say-active")}),i.hover(function(){o.removeClass("col-lg-5"),i.removeClass("col-lg-5"),i.addClass("col-lg-6"),o.addClass("col-lg-4"),s.removeClass("d-none"),g.addClass("listen-active")},function(){o.removeClass("col-lg-4"),i.removeClass("col-lg-6"),o.addClass("col-lg-5"),i.addClass("col-lg-5"),s.addClass("d-none"),g.removeClass("listen-active")}),$('input[name = "gender"]').on("change",function(){var e=document.querySelector('input[name = "gender"]:checked'),t=$("#transgender_options");"others"===e.value?t.removeClass("d-none"):t.addClass("d-none")}),P()}$(document).ready(function(){localStorage.getItem("i18n")?(o(),localStorage.removeItem(C),localStorage.removeItem(y),localStorage.removeItem(A),localStorage.removeItem(x),h().then(function(){var e,t;D(),e=JSON.parse(localStorage.getItem(x)),t=[{element:"#contribution_lang_navbar",title:"",preventInteraction:!0,placement:"bottom",content:e["You can select the language in which you want to participate"]},{element:"#locale_language_dropdown",title:"",preventInteraction:!0,placement:"bottom",content:e["You can change the language in which you want to read content"]},{element:"#say",title:"",preventInteraction:!0,placement:"bottom",content:e["Click on the card to start contributing your voice"]},{element:"#listen",title:"",preventInteraction:!0,placement:"bottom",content:e["Click on the card to validate what others have spoken"]}],new Tour({steps:t,framework:"bootstrap4",backdrop:!0,localization:{buttonTexts:{nextButton:e.Next,prevButton:e.Back,endTourButton:e.SKIP}}}).start()}).catch(function(e){D()})):r()}),$(window).on("orientationchange",function(){U()}),t.exports={updateHrsForSayAndListen:w,getDefaultTargetedDiv:O,setLangNavBar:G}},{"./constants":1,"./home-page-charts":5,"./locale":6,"./speakerDetails":7,"./utils":8}],4:[function(e,t,a){"use strict";var n,r=(n=e("node-fetch"))&&n.__esModule?n:{default:n};var o=e("./env-api").api_url;t.exports=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.startsWith("/")?r.default.apply(void 0,[o+e].concat(a)):r.default.apply(void 0,[e].concat(a))}},{"./env-api":2,"node-fetch":9}],5:[function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var o="topLanguagesByHours",i="topLanguagesBySpeakers",s=e("./utils"),l=s.calculateTime,c=s.formatTime,d=(s.getJson,s.performAPIRequest),u=[{id:"IN-TG",state:"Telangana",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-AN",state:"Andaman and Nicobar Islands",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-AP",state:"Andhra Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-AR",state:"Arunanchal Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-AS",state:"Assam",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-BR",state:"Bihar",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-CT",state:"Chhattisgarh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-GA",state:"Goa",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-GJ",state:"Gujarat",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-HR",state:"Haryana",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-HP",state:"Himachal Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-JK",state:"Jammu & Kashmir",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-JH",state:"Jharkhand",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-KA",state:"Karnataka",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-KL",state:"Kerala",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-LD",state:"Lakshadweep",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-MP",state:"Madhya Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-MH",state:"Maharashtra",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-MN",state:"Manipur",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-CH",state:"Chandigarh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-PY",state:"Puducherry",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-PB",state:"Punjab",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-RJ",state:"Rajasthan",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-SK",state:"Sikkim",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-TN",state:"Tamil Nadu",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-TR",state:"Tripura",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-UP",state:"Uttar Pradesh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-UT",state:"Uttarakhand",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-WB",state:"West Bengal",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-OR",state:"Odisha",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-DNDD",state:"Dadra and Nagar Haveli and Daman and Diu",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-ML",state:"Meghalaya",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-MZ",state:"Mizoram",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-NL",state:"Nagaland",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-DL",state:"National Capital Territory of Delhi",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0},{id:"IN-LK",state:"Ladakh",contributed_time:"0 hrs",validated_time:"0 hrs",total_speakers:0}],m=void 0,g=function(e){var t,a=[].concat(u),n=$("#legendDiv"),r=Math.max.apply(Math,e.data.map(function(e){return Number(e.total_contributions)}));t=r>1?r/4:.25,a.forEach(function(t){var a=e.data.find(function(e){return t.state===e.state});if(a){var n=l(60*Number(a.total_contributions)*60,!0),r=n.hours,o=n.minutes,i=n.seconds,s=l(60*Number(a.total_validations)*60,!0),c=s.hours,d=s.minutes,u=s.seconds;t.contributed_time="".concat(r,"hrs ").concat(o,"mins ").concat(i,"sec"),t.validated_time="".concat(c,"hrs ").concat(d,"mins ").concat(u,"sec"),t.value=Number(a.total_contributions),t.total_speakers=a.total_speakers,t.id=t.id}else t.id=t.id,t.contributed_time="0 hrs",t.validated_time="0 hrs",t.value=0,t.total_speakers=0});var o=am4core.create("indiaMapChart",am4maps.MapChart),i=o.series.indexOf(m);i>-1&&o.series.removeIndex(i),o.geodataSource.url="https://vakyansh-json-data.s3.ap-south-1.amazonaws.com/india2020Low.json",o.projection=new am4maps.projections.Miller,m=new am4maps.MapPolygonSeries,o.seriesContainer.draggable=!1,o.seriesContainer.resizable=!1,o.chartContainer.wheelable=!1,o.maxZoomLevel=1,m.useGeodata=!0,m.data=a;var s=m.mapPolygons.template;s.tooltipHTML='<div style="text-align: left;"><h6>{state}</h6> <div style="text-align: left;">{total_speakers} Speakers  <label style="margin-left: 32px">Contributed: <label style="margin-left: 8px">{contributed_time}</label></label></div> <div style="text-align: left;">Validated:  <label style="margin-left: 8px">{validated_time}</label></div></div>',s.nonScalingStroke=!0,s.strokeWidth=.5,s.stroke=am4core.color("#929292"),s.fill=am4core.color("#fff"),s.states.create("hover").properties.fill=o.colors.getIndex(1).brighten(-.5),m.mapPolygons.template.adapter.add("fill",function(e,a){return a.dataItem?a.dataItem.value>=3*t?am4core.color("#4061BF"):a.dataItem.value>=2*t?am4core.color("#6B85CE"):a.dataItem.value>=t?am4core.color("#92A8E8"):a.dataItem.value>0?am4core.color("#CDD8F6"):am4core.color("#E9E9E9"):e}),o.series.push(m);var d=$("#quarter .legend-val"),g=$("#half .legend-val"),h=$("#threeQuarter .legend-val"),v=$("#full .legend-val"),p=l(60*t*60,!1),f=p.hours,_=p.minutes,b=l(2*t*60*60,!1),S=b.hours,I=b.minutes,k=l(3*t*60*60,!1),N=k.hours,C=k.minutes;d.text("0 - ".concat(c(f,_))),g.text("".concat(c(f,_)," - ").concat(c(S,I))),h.text("".concat(c(S,I)," - ").concat(c(N,C))),v.text("> ".concat(c(N,C))),n.removeClass("d-none").addClass("d-flex")};function h(e,t,a){var r=am4core.create("speakers_hours_chart",am4charts.XYChart);v.chart=r;var o=n(e);o="total_speakers"===t?o.sort(function(e,t){return Number(e.total_speakers)<Number(t.total_speakers)?-1:1}):o.sort(function(e,t){return Number(e.total_contributions)<Number(t.total_contributions)?-1:1}),"total_speakers"!==t&&o.forEach(function(e){var t=l(60*Number(e.total_contributions)*60,!0),a=t.hours,n=t.minutes,r=t.seconds;e.total_contributions_text=c(a,n,r)}),r.data=o;var i=r.yAxes.push(new am4charts.CategoryAxis);i.dataFields.category=a,i.renderer.grid.template.location=0,i.renderer.cellStartLocation=.2,i.renderer.cellEndLocation=.8,i.renderer.grid.template.strokeWidth=0;var s=r.xAxes.push(new am4charts.ValueAxis);s.renderer.grid.template.strokeWidth=0,s.renderer.labels.template.disabled=!0,i.renderer.minGridDistance=25;var d=r.series.push(new am4charts.ColumnSeries);d.dataFields.valueX=t,d.dataFields.categoryY=a;var u=d.bullets.push(new am4charts.LabelBullet);u.label.text="total_speakers"===t?"{total_speakers}":"{total_contributions_text}",u.label.fontSize=14,u.label.horizontalCenter="left",u.label.dx=10,u.label.truncate=!1,u.label.hideOversized=!1;r.events.on("datavalidated",function(e){var t=e.target,a=t.yAxes.getIndex(0),n=35*t.data.length-a.pixelHeight,r=t.pixelHeight+n;t.svgContainer.htmlElement.style.height=r+"px"})}var v={};t.exports={generateIndiaMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(""!==e?"/aggregate-data-count?byState=true&byLanguage=true":"/aggregate-data-count?byState=true").then(function(t){var a=""!==e?function(e,t){var a={data:[]};return e.data.forEach(function(e){e.language.toLowerCase()===t.toLowerCase()&&""!==e.state&&"anonymous"!==e.state.toLowerCase()&&a.data.push(e)}),a}(t,e):t;g(a)}).catch(function(e){console.log(e)})},showByHoursChart:function(){v.chart&&v.chart.dispose();var e=localStorage.getItem(o);h(JSON.parse(e),"total_contributions","language")},showBySpeakersChart:function(){v.chart&&v.chart.dispose();var e=localStorage.getItem(i);h(JSON.parse(e),"total_speakers","language")},getStatistics:function(e){var t=$("#speaker-data").find("#loader1, #loader2, #loader3"),a=$("#speakers-wrapper"),n=$("#speaker-value"),r=$("#hours-wrapper"),o=$("#hour-value"),i=$("#languages-wrapper"),s=$("#languages-value");t.removeClass("d-none"),r.addClass("d-none"),a.addClass("d-none"),i.addClass("d-none");var c=l(60*Number(e.total_contributions)*60),d=c.hours,u=c.minutes,m=c.seconds;o.text("".concat(d,"h ").concat(u,"m ").concat(m,"s")),n.text(e.total_speakers),s.text(e.total_languages),t.addClass("d-none"),r.removeClass("d-none"),a.removeClass("d-none"),i.removeClass("d-none")},drawMap:g}},{"./utils":8}],6:[function(e,t,a){"use strict";var n=e("./utils"),r=n.updateLocaleLanguagesDropdown,o=n.getCookie,i=(n.setCookie,e("./constants").ALL_LANGUAGES),s=function(e){var t=e.target.getAttribute("locale");t&&l(t)},l=function(e){var t=location.href.split("/"),a=t[t.length-1];a||(a="home.html"),localStorage.setItem("i18n",e),location.href="/".concat(e,"/").concat(a)};$(document).ready(function(){var e;e=$("#localisation_dropdown"),$("#content-language a").on("click",s),e.on("click",s)}),t.exports={checkCookie:function(){return""!=o("i18n")},changeLocale:l,showLanguagePopup:function(){document.getElementById("toggle-content-language").click()},redirectToLocalisedPage:function(){var e=localStorage.getItem("i18n"),t=location.href.split("/"),a=t[t.length-2];if($("#home-page").attr("default-lang",e),a!=e)l(e);else{var n=i.find(function(t){return t.id===e});n&&r(n.value)}}}},{"./constants":1,"./utils":8}],7:[function(e,t,a){"use strict";var n=e("./constants"),r=n.DEFAULT_CON_LANGUAGE,o=n.CONTRIBUTION_LANGUAGE,i=n.ALL_LANGUAGES,s=n.LOCALE_STRINGS,l=e("./utils").getLocaleString;function c(e,t){var a=e.val().trim();u(a)?(e.addClass("is-invalid"),t.removeClass("d-none")):(e.removeClass("is-invalid"),t.addClass("d-none"))}function d(){var e=document.getElementById("age"),t=document.getElementById("mother-tongue"),a=document.getElementById("username"),n=document.querySelector('input[name = "gender"]:checked'),r=document.querySelector('input[name = "trans_gender"]:checked');n&&(n.checked=!1),r&&(r.checked=!1),e.selectedIndex=0,t.selectedIndex=0,a.value=""}var u=function(e){return/^[6-9]\d{9}$/.test(e)||/^\S+@\S+[\.][0-9a-z]+$/.test(e)};var m=function(e,t){l().then(function(){var a=JSON.parse(localStorage.getItem(s));u(e)&&t.attr("data-original-title",a["Please validate any error message before proceeding"])})};t.exports={testUserName:u,validateUserName:c,setSpeakerDetails:function(e,t,a,n){var r=localStorage.getItem(e);if(r){var o=JSON.parse(r),i=document.querySelector('input[name = "gender"][value="'+o.gender+'"]');if(["male","female"].indexOf(o.gender)>-1)i&&(i.checked=!0,i.previous=!0);else if(""!==o.gender){var s=document.querySelector('input[name = "gender"][value="others"]');s&&(s.checked=!0,s.previous=!0);var l=document.querySelector('input[name = "trans_gender"][value="'+o.gender+'"]');l&&($("#transgender_options").removeClass("d-none"),l.checked=!0,l.previous=!0)}t.value=o.age,a.value=o.motherTongue,n.val(o.userName?o.userName.trim().substring(0,12):""),c(n,n.next())}},resetSpeakerDetails:d,setUserNameTooltip:function(e){e.val().length>11?(e.tooltip("enable"),e.tooltip("show")):(e.tooltip("disable"),e.tooltip("hide"))},setStartRecordBtnToolTipContent:m,setUserModalOnShown:function(e){$("#userModal").on("shown.bs.modal",function(){$("#resetBtn").on("click",d),e.tooltip({container:"body",placement:screen.availWidth>500?"right":"auto",trigger:"focus"})})},setUserNameOnInputFocus:function(){var e=$("#username"),t=e.next(),a=$("#proceed-box"),n=a.parent();e.on("input focus",function(){c(e,t);var r=e.val().trim();u(r)?(m(r,n),a.prop("disabled",!0).addClass("point-none"),n.tooltip("enable")):(a.removeAttr("disabled").removeClass("point-none"),n.tooltip("disable"))})},setGenderRadioButtonOnClick:function(){document.querySelectorAll('input[name = "gender"]').forEach(function(e){e.addEventListener("click",function(e){e.target.previous&&(e.target.checked=!1),e.target.previous=e.target.checked})})},setStartRecordingBtnOnClick:function(){var e=$("#proceed-box"),t=document.querySelectorAll('input[name = "gender"]'),a=document.querySelectorAll('input[name = "trans_gender"]'),n=$("#username"),s=document.getElementById("age"),l=document.getElementById("mother-tongue");e.on("click",function(){var e=Array.from(t).filter(function(e){return e.checked}),c=e.length?e[0].value:"";if("others"===c){var d=Array.from(a).filter(function(e){return e.checked});c=d.length?d[0].value:""}var m=n.val().trim().substring(0,12),g=localStorage.getItem(o);if(i.find(function(e){return e.value===g}).data||(g=r),!u(m)){var h={gender:c,age:s.value,motherTongue:l.value,userName:m,language:g};localStorage.setItem("speakerDetails",JSON.stringify(h)),localStorage.setItem(o,g),location.href="./record.html"}})}}},{"./constants":1,"./utils":8}],8:[function(e,t,a){"use strict";var n=e("./constants"),r=n.HOUR_IN_SECONDS,o=n.SIXTY,i=n.ALL_LANGUAGES,s=e("./fetch");var l=function(e){return s(e,{credentials:"include",mode:"cors"}).then(function(e){if(e.ok)return Promise.resolve(e.json());throw Error(e.statusText||"HTTP error")})};t.exports={setPageContentHeight:function(){var e=$("footer"),t=$(".navbar"),a=100-(e.outerHeight()+t.outerHeight())*(100/document.documentElement.clientHeight);$("#content-wrapper").css("min-height",a+"vh")},toggleFooterPosition:function(){var e=$("footer");e.toggleClass("fixed-bottom"),e.toggleClass("bottom")},fetchLocationInfo:function(){var e=localStorage.getItem("state_region")||"NOT_PRESENT",t=localStorage.getItem("country")||"NOT_PRESENT";return"NOT_PRESENT"!==e&&"NOT_PRESENT"!==t&&e.length>0&&t.length>0?new Promise(function(a){a({regionName:e,country:t})}):s("https://www.cloudflare.com/cdn-cgi/trace").then(function(e){return e.text()}).then(function(e){var t=e.split("\n"),a="";for(var n in t)if(t[n].startsWith("ip=")){a=t[n].replace("ip=","");break}return 0!==a.length?s("/location-info?ip=".concat(a)):new Promise(function(e,t){t("Ip Address not available")})})},updateLocaleLanguagesDropdown:function(e){var t=$("#localisation_dropdown"),a=i.find(function(t){return t.value===e});"english"===e.toLowerCase()||!1===a.hasLocaleText?t.html('<a id="english" class="dropdown-item" href="#" locale="en">English</a>'):t.html('<a id="english" class="dropdown-item" href="#" locale="en">English</a>\n        <a id='.concat(a.value,' class="dropdown-item" href="#" locale="').concat(a.id,'">').concat(a.text,"</a>"))},calculateTime:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Math.floor(e/r),n=e%r,i=Math.floor(n/o),s=Math.round(n%o);return t?{hours:a,minutes:i,seconds:s}:{hours:a,minutes:i}},formatTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n="";return e>0&&(n+="".concat(e," hrs ")),t>0&&(n+="".concat(t," min ")),0===e&&0===t&&a>0&&(n+="".concat(a," sec ")),n.substr(0,n.length-1)},getLocaleString:function(){return new Promise(function(e,t){var a,n=null!==(a=localStorage.getItem("i18n"))&&void 0!==a?a:"en";l("/get-locale-strings/".concat(n)).then(function(t){localStorage.setItem("localeString",JSON.stringify(t)),e(t)}).catch(function(e){return t(e)})})},performAPIRequest:l,showElement:function(e){e.removeClass("d-none")},hideElement:function(e){e.addClass("d-none")},setFooterPosition:function(){var e=$("#page-content").outerHeight();$("body").outerHeight()<=e+$("nav").outerHeight()+$("footer").outerHeight()&&$("footer").removeClass("fixed-bottom").addClass("bottom")},reportSentenceOrRecording:function(e){return new Promise(function(t,a){try{s("/report",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){t(e)})}catch(e){a(e)}})},getCookie:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},setCookie:function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toGMTString();document.cookie=e+"="+t+";"+r+";path=/"},getJson:function(e){return new Promise(function(t){$.getJSON(e,function(e){t(e)})})}}},{"./constants":1,"./fetch":4}],9:[function(e,t,a){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();t.exports=a=n.fetch,n.fetch&&(a.default=n.fetch.bind(n)),a.Headers=n.Headers,a.Request=n.Request,a.Response=n.Response},{}]},{},[3]);