!function e(t,n,a){function i(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return i(n||e)},l,l.exports,e,t,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)i(a[r]);return i}({1:[function(e,t,n){"use strict";t.exports={DEFAULT_CON_LANGUAGE:"Hindi",AUDIO_DURATION:6,SIXTY:60,HOUR_IN_SECONDS:3600,ALL_LANGUAGES:[{value:"Assamese",id:"as",text:"অসমীয়া",hasLocaleText:!0,data:!0},{value:"Bengali",id:"bn",text:"বাংলা",hasLocaleText:!0,data:!0},{value:"English",id:"en",text:"English",hasLocaleText:!0,data:!0},{value:"Gujarati",id:"gu",text:"ગુજરાતી",hasLocaleText:!0,data:!0},{value:"Hindi",id:"hi",text:"हिंदी",hasLocaleText:!0,data:!0},{value:"Kannada",id:"kn",text:"ಕನ್ನಡ",hasLocaleText:!0,data:!0},{value:"Malayalam",id:"ml",text:"മലയാളം",hasLocaleText:!0,data:!0},{value:"Marathi",id:"mr",text:"मराठी",hasLocaleText:!0,data:!0},{value:"Odia",id:"or",text:"ଓଡିଆ",hasLocaleText:!0,data:!0},{value:"Punjabi",id:"pa",text:"ਪੰਜਾਬੀ",hasLocaleText:!0,data:!0},{value:"Tamil",id:"ta",text:"தமிழ்",hasLocaleText:!0,data:!0},{value:"Telugu",id:"te",text:"తెలుగు",hasLocaleText:!0,data:!0}],TOP_LANGUAGES_BY_HOURS:"topLanguagesByHours",TOP_LANGUAGES_BY_SPEAKERS:"topLanguagesBySpeakers",AGGREGATED_DATA_BY_LANGUAGE:"aggregateDataCountByLanguage",LOCALE_STRINGS:"localeString",CONTRIBUTION_LANGUAGE:"contributionLanguage",BADGES:{bronze:{imgLg:"../img/bronze_badge.svg",imgSm:"../img/bronze_contributor.jpeg"},silver:{imgLg:"../img/silver_badge.svg",imgSm:"../img/silver_contributor.jpeg"},gold:{imgLg:"../img/gold_badge.svg",imgSm:"../img/gold_contributor.jpeg"},platinum:{imgLg:"../img/platinum_badge.svg",imgSm:"../img/platinum_contributor.jpeg"},certificate:{imgLg:"../img/certificate.svg",imgSm:"../img/certificate.svg"}},SPEAKER_DETAILS_KEY:"speakerDetails"}},{}],2:[function(e,t,n){"use strict";t.exports={api_url:"http://localhost:8080"}},{}],3:[function(e,t,n){"use strict";var a,i,o,r,s,c,l,d,u,g=e("../js/constants").LOCALE_STRINGS,f=e("./fetch"),m=[],v=0,h=5,p=44100,x=null,A=document.getElementById("mic-canvas"),w=A.getContext("2d"),L=$("#test-mic-button"),C=$("#play-speaker"),y=$("#test-mic-speakers"),b=$("#test-mic-speakers-button"),S=$("#test-mic-speakers-details"),_=$("#test-mic-close"),T=$("#no-noise"),E=$("#noise"),U=JSON.parse(localStorage.getItem(g));function R(e,t,n){for(var a=0;a<n.length;a++)e.setUint8(t+a,n.charCodeAt(a))}var k=function(){var e=null,t=null,n=0,o=0;return{start:function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(i){I();var r=window.AudioContext||window.webkitAudioContext;a=new r,p=a.sampleRate,e=a.createMediaStreamSource(i),t=a.createScriptProcessor(1024,1,1),e.connect(t),t.connect(a.destination),t.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);v+=1024,m.push(new Float32Array(t));for(var a=0,i=0;i<t.length;++i)a+=t[i]*t[i];var r=Math.sqrt(a/t.length);n=Math.max(n,r),r=Math.max(r,o-.008),o=r,w.clearRect(0,0,A.width,A.height),w.fillStyle="#83E561",w.fillRect(0,0,A.width*(r/n),A.height)}}).catch(function(e){console.log(e),G()})},stop:function(){null!==e&&e.disconnect(),null!==t&&t.disconnect();var n=function(e,t){var n=new ArrayBuffer(44+2*e.length),a=new DataView(n);R(a,0,"RIFF"),a.setUint32(4,44+2*e.length,!0),R(a,8,"WAVE"),R(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,t,!0),a.setUint32(28,2*t,!0),a.setUint16(32,4,!0),a.setUint16(34,16,!0),R(a,36,"data"),a.setUint32(40,2*e.length,!0);for(var i=44,o=0;o<e.length;o++)a.setInt16(i,32767*e[o],!0),i+=2;return new Blob([a],{type:"audio/wav"})}(function(e,t){for(var n=new Float32Array(t),a=0,i=0;i<e.length;i++){var o=e[i];n.set(o,a),a+=o.length}return n}(m,v),p);if(null!==n){O(n);var a=URL.createObjectURL(n);return(i=new Audio(a)).onloadedmetadata=function(){var e=Math.ceil(1e3*i.duration);setTimeout(function(){G()},e)},{audioBlob:n,audioUrl:a,play:function(){i.play()}}}return console.log("No blob present"),null}}},G=function(){var e=$("#test-mic-text");a&&(a.close(),a=void 0),e.text(U["Test Mic"]),$("#mic-svg").removeClass("d-none"),L.attr("data-value","test-mic"),w.clearRect(0,0,A.width,A.height),h=5,clearInterval(o)},B=function(){cancelAnimationFrame(x),u&&u.clearRect(0,0,d.width,d.height),C.attr("data-value","test-speaker"),$("#test-speaker-text").text(U["Test Speakers"]),$("#speaker-svg").removeClass("d-none")},I=function(){$("#mic-msg").removeClass("invisible"),$("#mic-svg").addClass("d-none"),$("#test-mic-text").text(U["Recording for ".concat(h," seconds")]),L.attr("data-value","recording"),h--,o=setInterval(function(){N()},1e3)},N=function(){$("#test-mic-text").text(U["Recording for ".concat(h," seconds")]),0===--h&&(clearInterval(o),L.attr("data-value","stop-recording"),D("stop-recording"))},O=function(e){var t=new FormData;t.append("audio_data",e),f("/audio/snr",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){var t,n,a;t=e,n=$("#no-noise"),a=$("#noise"),$("#mic-msg").addClass("d-none"),t.ambient_noise?a.removeClass("d-none"):n.removeClass("d-none")}).catch(function(e){console.log(e)})},D=function(e){$("#mic-msg").addClass("invisible").removeClass("d-none"),$("#no-noise").addClass("d-none"),$("#noise").addClass("d-none");var t=$("#test-mic-text"),n=k();if("test-mic"===e)m=[],v=0,n.start();else if("stop-recording"===e){n.stop().play(),L.attr("data-value","playing"),t.text(U["Playingback Audio"])}};b.on("click",function(){console.log("here"),y.addClass("d-none"),S.removeClass("d-none")}),_.on("click",function(){y.removeClass("d-none"),S.addClass("d-none"),$("#mic-msg").addClass("invisible").removeClass("d-none"),T.addClass("d-none"),E.addClass("d-none"),m=[],v=0,i&&(i.pause(),i.currentTime=0),l&&(l.pause(),l.currentTime=0),G(),B()}),L.on("click",function(){var e=$("#test-mic-button").attr("data-value");D(e)}),C.on("click",function(){C.attr("data-value","playing"),$("#test-speaker-text").text(U.Playing),$("#speaker-svg").addClass("d-none"),function(){if((l=document.getElementById("test-speaker-hidden")).play(),!r){var e=window.AudioContext||window.webkitAudioContext;r=new e,c=r.createMediaElementSource(l),s=r.createAnalyser(),c.connect(s),s.connect(r.destination),s.fftSize=256}d=document.getElementById("speaker-canvas"),u=d.getContext("2d");var t=s.frequencyBinCount,n=50,a=new Uint8Array(t);!function e(){x=requestAnimationFrame(e),s.getByteFrequencyData(a);for(var t=0,i=0;i<a.length;++i)t+=a[i]*a[i];var o=Math.sqrt(t/a.length);n=Math.max(n,o),u.clearRect(0,0,d.width,d.height),u.fillStyle="#83E561",u.fillRect(0,0,d.width*(o/n),d.height)}(),l.onended=function(){B()}}()})},{"../js/constants":1,"./fetch":4}],4:[function(e,t,n){"use strict";var a,i=(a=e("node-fetch"))&&a.__esModule?a:{default:a};var o=e("./env-api").api_url;t.exports=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.startsWith("/")?i.default.apply(void 0,[o+e].concat(n)):i.default.apply(void 0,[e].concat(n))}},{"./env-api":2,"node-fetch":5}],5:[function(e,t,n){"use strict";var a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a)return a;throw new Error("unable to locate global object")}();t.exports=n=a.fetch,a.fetch&&(n.default=a.fetch.bind(a)),n.Headers=a.Headers,n.Request=a.Request,n.Response=a.Response},{}]},{},[3]);